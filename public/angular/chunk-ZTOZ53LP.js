import{a as M}from"./chunk-YIWYFUST.js";import{a as U,b as _}from"./chunk-PAXCY5C7.js";import{a as g}from"./chunk-IVNLITVP.js";import{a as h}from"./chunk-5TEMFPTZ.js";import"./chunk-3VQ2NDW6.js";import"./chunk-CARY4E7O.js";import{R as S,U as I}from"./chunk-M4UXLRGQ.js";import{d as b}from"./chunk-AG3CWWVW.js";import"./chunk-3YPF7WJ4.js";import{Gb as l,Qb as s,Tb as v,Vb as f,Xa as n,Ya as o,a as d,ha as c,nb as m,xb as r,yb as p,zb as u}from"./chunk-EMB2SP6L.js";var C=class a{constructor(e,t,i){this._userService=e;this.router=t;this._matSnackBar=i}uploadedVideoList;userId;ngOnInit(){this.router.paramMap.subscribe(e=>{this.userId=Number(e.get("UserId")),this.getVideos()})}getVideos(){this._userService.getUserVideos(this.userId).subscribe({next:e=>{console.log(e),this.uploadedVideoList=e.map(t=>d({},t))}})}subscribe(){this._userService.subscribeToUser({UserId:this.userId}).subscribe({next:e=>{this._matSnackBar.open("Subscribed","OK",{duration:2e3}),console.log("subscribed")},error:e=>{this._matSnackBar.open(e.error.message,"OK",{duration:2e3})}})}static \u0275fac=function(t){return new(t||a)(o(h),o(b),o(g))};static \u0275cmp=c({type:a,selectors:[["app-user"]],standalone:!0,features:[f],decls:7,vars:3,consts:[["mat-flat-button","","color","accent",3,"click"],[3,"videoList"]],template:function(t,i){t&1&&(r(0,"h1"),s(1),r(2,"button",0),l("click",function(){return i.subscribe()}),s(3,"Subscribe "),r(4,"mat-icon"),s(5,"add"),p()()(),u(6,"app-videolist",1)),t&2&&(n(),v("","@","",i.uploadedVideoList?i.uploadedVideoList[0].User==null?null:i.uploadedVideoList[0].User.username:""," videos "),n(5),m("videoList",i.uploadedVideoList))},dependencies:[M,I,S,_,U],styles:["h1[_ngcontent-%COMP%]{text-align:center;padding:8px}"]})};export{C as UserComponent};
