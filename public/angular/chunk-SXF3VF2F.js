import{a as I}from"./chunk-JMP4FPIU.js";import{b as C}from"./chunk-DX6YUJWO.js";import{a as N}from"./chunk-U4L2HJLG.js";import{Aa as x,Ca as f,Ea as B,Fa as F,Ga as L,N as S,ma as b,na as y,sa as w,va as M,wa as d,ya as E,za as k}from"./chunk-XMLJLDV6.js";import"./chunk-CARY4E7O.js";import{f as h}from"./chunk-3GCOAFMD.js";import"./chunk-Q5JD2WOA.js";import{$a as m,Bb as n,Cb as t,Db as c,Kb as v,Ub as a,Zb as _,ab as l,ka as g,pb as s,rb as p,wb as u}from"./chunk-SWTISPDC.js";function D(o,r){o&1&&(n(0,"mat-error"),a(1," Username is required "),t())}function G(o,r){o&1&&(n(0,"mat-error"),a(1," Password is required "),t())}var q=class o{constructor(r,e,i){this._authenticate=r;this._matSnackBar=e;this._router=i}loginform=new x({username:new f("",[d.required]),password:new f("",[d.required])},{updateOn:"blur"});login(){let r={username:this.loginform.controls.username.value??"",password:this.loginform.controls.password.value??""};this._authenticate.login(r).subscribe({next:e=>{this._authenticate.setUserKey(e.message),this._matSnackBar.open("logged in","OK",{duration:2e3}),this._router.navigate(["/profile"])},error:e=>{this._matSnackBar.open(e.error.message,"OK",{duration:2e3})}})}static \u0275fac=function(e){return new(e||o)(l(C),l(N),l(h))};static \u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[_],decls:13,vars:4,consts:[[1,"login",3,"formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","username"],["matInput","","type","password","formControlName","password"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),a(3,"username"),t(),c(4,"input",2),s(5,D,2,0,"mat-error"),t(),n(6,"mat-form-field",1)(7,"mat-label"),a(8,"password"),t(),c(9,"input",3),s(10,G,2,0,"mat-error"),t(),n(11,"button",4),v("click",function(){return i.login()}),a(12,"Login"),t()()),e&2&&(p("formGroup",i.loginform),m(5),u(i.loginform.controls.username.hasError("required")?5:-1),m(5),u(i.loginform.controls.password.hasError("required")?10:-1),m(),p("disabled",i.loginform.invalid))},dependencies:[w,b,y,I,S,L,M,E,k,B,F],styles:[".login[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:80%;margin:auto}"]})};export{q as LoginComponent};
