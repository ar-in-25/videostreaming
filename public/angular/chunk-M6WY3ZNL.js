import{a as g}from"./chunk-QR6ALSSZ.js";import{a as T}from"./chunk-JMP4FPIU.js";import{b as S}from"./chunk-DX6YUJWO.js";import{a as G}from"./chunk-U4L2HJLG.js";import{Aa as N,Ca as f,Ea as k,Fa as q,Ga as B,N as E,ma as x,na as b,sa as M,va as R,wa as m,ya as y,za as F}from"./chunk-XMLJLDV6.js";import"./chunk-CARY4E7O.js";import{f as w}from"./chunk-3GCOAFMD.js";import"./chunk-Q5JD2WOA.js";import{$a as s,Bb as i,Cb as o,Db as u,Kb as _,Ub as n,Zb as C,ab as l,ka as v,pb as p,rb as d,wb as c}from"./chunk-SWTISPDC.js";function D(t,e){t&1&&(i(0,"mat-error"),n(1," Username is required "),o())}function P(t,e){t&1&&(i(0,"mat-error"),n(1," Max length allowed is 16 characters. "),o())}function A(t,e){t&1&&(i(0,"mat-error"),n(1," Password is required "),o())}function L(t,e){t&1&&(i(0,"mat-error"),n(1," Max length allowed is 16 characters. "),o())}function O(t,e){t&1&&(i(0,"mat-error"),n(1," Password is required "),o())}function V(t,e){t&1&&(i(0,"mat-error"),n(1," Max length allowed is 16 characters. "),o())}function j(t,e){t&1&&(i(0,"mat-error"),n(1," Password do not match "),o())}var I=class t{constructor(e,r,a){this._authenticateService=e;this._matSnackBar=r;this._router=a}registerform=new N({username:new f("",{nonNullable:!0,validators:[m.required,m.maxLength(16),g]}),password:new f("",{nonNullable:!0,validators:[m.required,m.maxLength(16),g]}),repeatpassword:new f("",{nonNullable:!0,validators:[m.required,m.maxLength(16),g]})},{updateOn:"blur",validators:this.doPasswordMatch});doPasswordMatch(e){let r=e;return r.get("password")?.value==r.get("repeatpassword")?.value?null:{dontmatch:!0}}matcher=new h;register(){let e={username:this.registerform.controls.username.value,password:this.registerform.controls.password.value};this._authenticateService.register(e).subscribe({next:r=>{this._matSnackBar.open(r.message,"OK",{duration:3e3}),this._router.navigate(["/login"])},error:r=>{this._matSnackBar.open(r.error.message,"OK",{duration:2e3})}})}static \u0275fac=function(r){return new(r||t)(l(S),l(G),l(w))};static \u0275cmp=v({type:t,selectors:[["app-register"]],standalone:!0,features:[C],decls:22,vars:6,consts:[[1,"register",3,"formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","username"],["matInput","","type","password","formControlName","password"],["matInput","","type","password","formControlName","repeatpassword",3,"errorStateMatcher"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),n(3,"username"),o(),u(4,"input",2),p(5,D,2,0,"mat-error")(6,P,2,0,"mat-error"),o(),i(7,"mat-form-field",1)(8,"mat-label"),n(9,"password"),o(),u(10,"input",3),p(11,A,2,0,"mat-error")(12,L,2,0,"mat-error"),o(),i(13,"mat-form-field",1)(14,"mat-label"),n(15,"repeat password"),o(),u(16,"input",4),p(17,O,2,0,"mat-error")(18,V,2,0,"mat-error")(19,j,2,0,"mat-error"),o(),i(20,"button",5),_("click",function(){return a.register()}),n(21,"Register"),o()()),r&2&&(d("formGroup",a.registerform),s(5),c(a.registerform.controls.username.hasError("required")?5:a.registerform.controls.username.hasError("maxlength")?6:-1),s(6),c(a.registerform.controls.password.hasError("required")?11:a.registerform.controls.password.hasError("maxlength")?12:-1),s(5),d("errorStateMatcher",a.matcher),s(),c(a.registerform.controls.repeatpassword.hasError("required")?17:a.registerform.controls.repeatpassword.hasError("maxlength")?18:a.registerform.hasError("dontmatch")?19:-1),s(3),d("disabled",a.registerform.invalid))},dependencies:[M,x,b,T,E,B,R,y,F,k,q],styles:[".register[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:80%;margin:auto}"]})},h=class{isErrorState(e,r){let a=r&&r.hasError("dontmatch");return!!((e&&e.invalid||a)&&e&&(e.dirty||e.touched))}};export{I as RegisterComponent};
